monsterFight = {'mage': {0: {'level': 0, 'modDamage': 0, 'modHealth': 0, 'monster': {'bird man': {'lesser': 99.59, 'normal': 95.07, 'greater': 94.86}, 'ghost': {'lesser': 99.66, 'normal': 95.0, 'greater': 95.06}, 'necromancer': {'lesser': 99.72, 'normal': 94.79, 'greater': 95.0}, 'royal archer': {'lesser': 99.7, 'normal': 95.05, 'greater': 95.16}, 'royal knight': {'lesser': 99.65, 'normal': 95.23, 'greater': 94.77}, 'ogre': {'lesser': 98.36, 'normal': 88.62, 'greater': 88.65}, 'scorpion': {'lesser': 83.8, 'normal': 74.94, 'greater': 74.38}, 'zombie': {'lesser': 100.0, 'normal': 99.99, 'greater': 99.99}}, 'overall': 94.04}, 1: {'level': 1, 'modDamage': 0, 'modHealth': 0, 'monster': {'bird man': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'ghost': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'necromancer': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'royal archer': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'royal knight': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'ogre': {'lesser': 99.99, 'normal': 96.91, 'greater': 94.86}, 'scorpion': {'lesser': 100.0, 'normal': 100.0, 'greater': 91.54}, 'zombie': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}}, 'overall': 99.3}, 2: {'level': 2, 'modDamage': 0, 'modHealth': 0, 'monster': {'bird man': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'ghost': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'necromancer': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'royal archer': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'royal knight': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'ogre': {'lesser': 100.0, 'normal': 100.0, 'greater': 86.02}, 'scorpion': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'zombie': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}}, 'overall': 99.42}, 3: {'level': 3, 'modDamage': 0, 'modHealth': 0, 'monster': {'bird man': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'ghost': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'necromancer': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'royal archer': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'royal knight': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'ogre': {'lesser': 100.0, 'normal': 100.0, 'greater': 99.33}, 'scorpion': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'zombie': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}}, 'overall': 99.97}}, 'barbarian': {0: {'level': 0, 'modDamage': 0, 'modHealth': 0, 'monster': {'bird man': {'lesser': 99.98, 'normal': 99.03, 'greater': 98.74}, 'ghost': {'lesser': 100.0, 'normal': 99.0, 'greater': 98.83}, 'necromancer': {'lesser': 100.0, 'normal': 98.94, 'greater': 98.88}, 'royal archer': {'lesser': 100.0, 'normal': 98.73, 'greater': 98.89}, 'royal knight': {'lesser': 100.0, 'normal': 98.81, 'greater': 98.78}, 'ogre': {'lesser': 99.79, 'normal': 96.73, 'greater': 96.42}, 'scorpion': {'lesser': 91.49, 'normal': 83.36, 'greater': 83.14}, 'zombie': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}}, 'overall': 97.48}, 1: {'level': 1, 'modDamage': 0, 'modHealth': 0, 'monster': {'bird man': {'lesser': 100.0, 'normal': 100.0, 'greater': 99.83}, 'ghost': {'lesser': 100.0, 'normal': 100.0, 'greater': 99.83}, 'necromancer': {'lesser': 100.0, 'normal': 100.0, 'greater': 99.82}, 'royal archer': {'lesser': 100.0, 'normal': 100.0, 'greater': 99.7}, 'royal knight': {'lesser': 100.0, 'normal': 100.0, 'greater': 99.8}, 'ogre': {'lesser': 99.65, 'normal': 99.35, 'greater': 87.48}, 'scorpion': {'lesser': 100.0, 'normal': 91.9, 'greater': 84.24}, 'zombie': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}}, 'overall': 98.4}, 2: {'level': 2, 'modDamage': 0, 'modHealth': 0, 'monster': {'bird man': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'ghost': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'necromancer': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'royal archer': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'royal knight': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'ogre': {'lesser': 99.99, 'normal': 96.71, 'greater': 92.83}, 'scorpion': {'lesser': 100.0, 'normal': 100.0, 'greater': 83.99}, 'zombie': {'lesser': 100.0, 'normal': 100.0, 'greater': 99.85}}, 'overall': 98.89}, 3: {'level': 3, 'modDamage': 0, 'modHealth': 0, 'monster': {'bird man': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'ghost': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'necromancer': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'royal archer': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'royal knight': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'ogre': {'lesser': 100.0, 'normal': 99.47, 'greater': 53.93}, 'scorpion': {'lesser': 100.0, 'normal': 100.0, 'greater': 83.47}, 'zombie': {'lesser': 100.0, 'normal': 100.0, 'greater': 99.81}}, 'overall': 97.36}}, 'ranger': {0: {'level': 0, 'modDamage': 0, 'modHealth': 0, 'monster': {'bird man': {'lesser': 99.41, 'normal': 98.86, 'greater': 98.72}, 'ghost': {'lesser': 99.3, 'normal': 98.79, 'greater': 98.99}, 'necromancer': {'lesser': 99.33, 'normal': 98.87, 'greater': 98.94}, 'royal archer': {'lesser': 99.37, 'normal': 98.78, 'greater': 98.86}, 'royal knight': {'lesser': 99.38, 'normal': 98.92, 'greater': 98.87}, 'ogre': {'lesser': 97.6, 'normal': 78.51, 'greater': 78.81}, 'scorpion': {'lesser': 91.57, 'normal': 83.71, 'greater': 82.91}, 'zombie': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}}, 'overall': 95.77}, 1: {'level': 1, 'modDamage': 0, 'modHealth': 0, 'monster': {'bird man': {'lesser': 100.0, 'normal': 99.96, 'greater': 99.72}, 'ghost': {'lesser': 100.0, 'normal': 99.94, 'greater': 99.76}, 'necromancer': {'lesser': 100.0, 'normal': 99.94, 'greater': 99.81}, 'royal archer': {'lesser': 100.0, 'normal': 99.93, 'greater': 99.73}, 'royal knight': {'lesser': 100.0, 'normal': 99.97, 'greater': 99.8}, 'ogre': {'lesser': 99.65, 'normal': 90.28, 'greater': 87.58}, 'scorpion': {'lesser': 100.0, 'normal': 91.93, 'greater': 83.23}, 'zombie': {'lesser': 100.0, 'normal': 100.0, 'greater': 99.86}}, 'overall': 97.96}, 2: {'level': 2, 'modDamage': 0, 'modHealth': 0, 'monster': {'bird man': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'ghost': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'necromancer': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'royal archer': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'royal knight': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'ogre': {'lesser': 99.99, 'normal': 96.76, 'greater': 46.91}, 'scorpion': {'lesser': 100.0, 'normal': 100.0, 'greater': 84.58}, 'zombie': {'lesser': 100.0, 'normal': 100.0, 'greater': 99.78}}, 'overall': 97.0}, 3: {'level': 3, 'modDamage': 0, 'modHealth': 0, 'monster': {'bird man': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'ghost': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'necromancer': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'royal archer': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'royal knight': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'ogre': {'lesser': 99.81, 'normal': 99.33, 'greater': 54.37}, 'scorpion': {'lesser': 100.0, 'normal': 100.0, 'greater': 83.58}, 'zombie': {'lesser': 100.0, 'normal': 100.0, 'greater': 80.65}}, 'overall': 96.57}}, 'swordsman': {0: {'level': 0, 'modDamage': 0, 'modHealth': 0, 'monster': {'bird man': {'lesser': 100.0, 'normal': 98.89, 'greater': 98.78}, 'ghost': {'lesser': 100.0, 'normal': 98.99, 'greater': 98.93}, 'necromancer': {'lesser': 99.99, 'normal': 98.85, 'greater': 98.71}, 'royal archer': {'lesser': 100.0, 'normal': 98.86, 'greater': 98.82}, 'royal knight': {'lesser': 100.0, 'normal': 98.85, 'greater': 98.78}, 'ogre': {'lesser': 99.85, 'normal': 96.58, 'greater': 96.89}, 'scorpion': {'lesser': 91.85, 'normal': 83.32, 'greater': 83.14}, 'zombie': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}}, 'overall': 97.5}, 1: {'level': 1, 'modDamage': 0, 'modHealth': 0, 'monster': {'bird man': {'lesser': 100.0, 'normal': 99.95, 'greater': 99.7}, 'ghost': {'lesser': 100.0, 'normal': 99.95, 'greater': 99.78}, 'necromancer': {'lesser': 100.0, 'normal': 99.87, 'greater': 99.8}, 'royal archer': {'lesser': 100.0, 'normal': 99.92, 'greater': 99.8}, 'royal knight': {'lesser': 100.0, 'normal': 99.98, 'greater': 99.82}, 'ogre': {'lesser': 99.67, 'normal': 90.54, 'greater': 87.24}, 'scorpion': {'lesser': 100.0, 'normal': 91.68, 'greater': 84.06}, 'zombie': {'lesser': 100.0, 'normal': 100.0, 'greater': 99.78}}, 'overall': 97.98}, 2: {'level': 2, 'modDamage': 0, 'modHealth': 0, 'monster': {'bird man': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'ghost': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'necromancer': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'royal archer': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'royal knight': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'ogre': {'lesser': 100.0, 'normal': 96.85, 'greater': 45.85}, 'scorpion': {'lesser': 100.0, 'normal': 100.0, 'greater': 83.03}, 'zombie': {'lesser': 100.0, 'normal': 100.0, 'greater': 99.74}}, 'overall': 96.89}, 3: {'level': 3, 'modDamage': 0, 'modHealth': 0, 'monster': {'bird man': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'ghost': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'necromancer': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'royal archer': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'royal knight': {'lesser': 100.0, 'normal': 100.0, 'greater': 100.0}, 'ogre': {'lesser': 99.77, 'normal': 99.46, 'greater': 54.67}, 'scorpion': {'lesser': 100.0, 'normal': 100.0, 'greater': 83.81}, 'zombie': {'lesser': 100.0, 'normal': 100.0, 'greater': 80.58}}, 'overall': 96.6}}}

import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
import numpy as np
import os



def main(monsterFight, heatmapPath, isBoss=False):
    for charKey,charDict in monsterFight.items():
        for levelKey,levelDict in charDict.items():
            modHealth = levelDict['modHealth']
            modDamage = levelDict['modDamage']
            if isBoss:
                savePath = heatmapPath+"/v0.4/boss_heatmaps/"+str(modHealth)+"h-"+str(modDamage)+"d/"
            else:
                savePath = heatmapPath+"/v0.4/heatmaps/"+str(modHealth)+"h-"+str(modDamage)+"d/"
            if not os.path.exists(savePath):
                os.makedirs(savePath)

            plt.figure()
            df = pd.DataFrame(levelDict["monster"])
            print("\n"+charKey+" (level "+str(levelKey+1)+")")
            print(df)
            fig = sns.heatmap(df, fmt='g', annot=True)
            plt.savefig(savePath+charKey+"_"+str(levelKey+1)+".png".format(levelDict), dpi=300, bbox_inches='tight')

def bossHeatmap(monsterFight, heatmapPath):
    for charKey,charDict in monsterFight.items():
        savePath = heatmapPath+"/v0.4/boss_heatmaps/"
        if not os.path.exists(savePath):
            os.makedirs(savePath)
        plt.figure()
        df = pd.DataFrame.from_dict({(i,j): charDict[i][j]
                                     for i in charDict.keys()
                                     for j in charDict[i].keys()})
        print("\n"+charKey)
        print(df)
        fig = sns.heatmap(data=df, square=True, linewidths=.5,)
        fig.set(xlabel="health", ylabel="damage")
        plt.savefig(savePath+charKey+".png".format(charDict), dpi=300, bbox_inches='tight')
    pass

def monsterHeatmap(monsterFight, heatmapPath):
    for charKey,charDict in monsterFight.items():
        savePath = heatmapPath+"/v0.4/monster_heatmaps/"
        if not os.path.exists(savePath):
            os.makedirs(savePath)
        plt.figure()
        df = pd.DataFrame.from_dict({(i,j): charDict[i][j]
                                     for i in charDict.keys()
                                     for j in charDict[i].keys()})
        print("\n"+charKey)
        print(df)
        fig = sns.heatmap(data=df, square=True, linewidths=.5,)
        fig.set(xlabel="health", ylabel="damage")
        plt.savefig(savePath+charKey+".png".format(charDict), dpi=300, bbox_inches='tight')
    pass